<mat-card class="conform-basic-requires">
  <mat-card-content>
    <div class="text--header">Соответствие базовым требованиям <mat-icon class="mat-18 roll-icon" appRoller [parentClass]="'parentToggleCompliance'">horizontal_rule</mat-icon></div>
    <div class="parentToggleCompliance">
      <div class="conform-basic-requires__table icm-margin-medium-top">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 kk-table">

          <ng-container matColumnDef="num">
            <th mat-header-cell *matHeaderCellDef [ngStyle]="{'padding-right': '24px'}"> № </th>
            <td mat-cell *matCellDef="let element"> {{element.num}} </td>
          </ng-container>

          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Показатель </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
          </ng-container>

          <ng-container matColumnDef="val">
            <th mat-header-cell *matHeaderCellDef> Значение </th>
            <td mat-cell *matCellDef="let element">
              <div class="complete-status-cell">
                <!--              magick number 1260 - это максимум, его брать из внешней стороны, 252 - фиксированная ширина блока-->
                <span class="complete-status-cell__val">{{element.val}} / 1260</span>
                <div class="complete-status-cell__completed" [ngStyle]="{'width': (element.val / 1260 * 100) * (252 / 100) + 'px'}"></div>
              </div>
            </td>
          </ng-container>

          <ng-container matColumnDef="conformity">
            <th mat-header-cell *matHeaderCellDef> Соответствие базовым требованиям </th>
            <td mat-cell *matCellDef="let element" [ngClass]="{'yes': element.conformity, 'no': !element.conformity}"> {{element.conformity ? 'Да' : 'Нет'}}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
    </div>
  </mat-card-content>
</mat-card>
